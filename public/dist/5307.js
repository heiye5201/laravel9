"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5307],{85307:(e,a,t)=>{t.r(a),t.d(a,{default:()=>d});var l=t(74061),n={class:"qwit"};t(26099),t(3362),t(9391);var o=t(38392),c=(0,l.defineComponent)({name:"MagicStick"});const r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},i=(0,l.createVNode)("path",{fill:"currentColor",d:"M512 64h64v192h-64V64zm0 576h64v192h-64V640zM160 480v-64h192v64H160zm576 0v-64h192v64H736zM249.856 199.04l45.248-45.184L430.848 289.6 385.6 334.848 249.856 199.104zM657.152 606.4l45.248-45.248 135.744 135.744-45.248 45.248L657.152 606.4zM114.048 923.2 68.8 877.952l316.8-316.8 45.248 45.248-316.8 316.8zM702.4 334.848 657.152 289.6l135.744-135.744 45.248 45.248L702.4 334.848z"},null,-1);c.render=function(e,a,t,n,o,c){return(0,l.openBlock)(),(0,l.createBlock)("svg",r,[i])},c.__file="packages/components/MagicStick.vue";const s=c,u={components:{tableView:o.A},setup:function(e){var a=(0,l.getCurrentInstance)().proxy,t=(0,l.ref)(!1),n=(0,l.reactive)([{label:"地区",value:"name"},{label:"编码",value:"code",type:"tags"},{label:"创建时间",value:"created_at"}]),o=[{label:"上级地区",value:"pid",type:"cascader",props:{emitPath:!1,checkStrictly:!0,label:"name",value:"code"}},{label:"地区",value:"name"},{label:"编码",value:"code"}],c=(0,l.reactive)({dict:[{name:"pid",url:"/load_areas?deep=2",addSelect:{name:a.$t("btn.default"),code:"0",id:0}}],rules:{pid:[{required:!0,message:"不能为空"}],name:[{required:!0,message:"不能为空"}],code:[{required:!0,message:"不能为空"}]},view:{column:[{label:"地区",value:"name"},{label:"编码",value:"code"}]},add:{column:o},edit:{column:o}});return{MagicStick:s,loading:t,options:n,dialogParam:c,clearCache:function(){t.value=!0,a.R.get("/Admin/clear_area").then((function(){a.$message.success(a.$t("msg.success"))})).catch((function(){a.$message.error(a.$t("msg.error"))})).finally((function(){t.value=!1}))}}}};const d=(0,t(66262).A)(u,[["render",function(e,a,t,o,c,r){var i=(0,l.resolveComponent)("el-button"),s=(0,l.resolveComponent)("table-view");return(0,l.openBlock)(),(0,l.createElementBlock)("div",n,[(0,l.createVNode)(s,{options:o.options,dialogParam:o.dialogParam,tableCfg:{lazy:!0,pid:"code"}},{table_topleft_hook:(0,l.withCtx)((function(){return[(0,l.createVNode)(i,{icon:o.MagicStick,loading:o.loading,onClick:o.clearCache},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)((0,l.toDisplayString)(e.$t("btn.clearCache")),1)]})),_:1},8,["icon","loading","onClick"])]})),_:1},8,["options","dialogParam"])])}]])}}]);