"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8526],{27326:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(76798),a=n.n(o)()((function(e){return e[1]}));a.push([e.id,".seller_goods_attr .el-tag--medium{margin-right:10px}.seller_goods_attr .button-new-tag{height:32px;line-height:30px;padding-bottom:0;padding-top:0}.seller_goods_attr .input-new-tag{vertical-align:bottom;width:90px}",""]);const r=a},88526:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});n(62010);var o=n(74061),a={class:"qwit seller_goods_attr"},r={class:"table_add_hook_block"},l={class:"table_btn"},i={class:"table_add_hook_block"},u={class:"table_btn"};n(54554),n(26099),n(3362),n(9391);const d={components:{tableView:n(52479).A},setup:function(e){var t=(0,o.getCurrentInstance)(),n=(t.ctx,t.proxy),a=(0,o.ref)(!1),r=(0,o.ref)(!1),l=(0,o.ref)(""),i=(0,o.reactive)([{label:n.$t("seller.goods_attrs.attrs_name"),value:"name"},{label:n.$t("seller.goods_attrs.specs"),value:"specs",type:"tags_array"},{label:n.$t("common.created_at"),value:"created_at"}]),u=[{label:n.$t("seller.goods_attrs.attrs_name"),value:"name"},{label:n.$t("seller.goods_attrs.specs"),value:"specs",viewType:"tags_array",span:24}],d=(0,o.reactive)({rules:{name:[{required:!0,message:n.$t("msg.requiredMsg")}],specs:[{required:!0,message:n.$t("msg.requiredMsg")}]},view:{column:u},add:{column:u},edit:{column:u},addForm:{},editForm:{}});return{options:i,dialogParam:d,inputVisible:a,inputValue:l,loading:r,handleClose:function(e){d.addForm.specs.splice(d.addForm.specs.indexOf(e),1)},handleInputConfirm:function(e){var t=l.value;t&&(d.addForm.specs||(d.addForm.specs=[]),d.addForm.specs.push(t),console.log(d.addForm.specs)),a.value=!1,l.value=""},showInput:function(){a.value=!0},formDataChange:function(e){d.addForm=e.edit},storeData:function(e){n.$refs.addForm.validate((function(t){if(!t)return!1;r.value=!0;try{n.R.post("/Seller/goods_attrs",d.addForm).then((function(t){t.code||(e.reloadData(),e.closeDialog(),n.$message.success(n.$t("msg.success")))})).catch((function(e){console.log(e)})).finally((function(){r.value=!1}))}catch(e){r.value=!1}}))},updateData:function(e){n.$refs.editForm.validate((function(t){if(!t)return!1;r.value=!0;try{n.R.put("/Seller/goods_attrs/"+d.addForm.id,d.addForm).then((function(t){t.code||(e.reloadData(),e.closeDialog(),n.$message.success(n.$t("msg.success")))})).catch((function(e){console.log(e)})).finally((function(){r.value=!1}))}catch(e){r.value=!1}}))}}}};var s=n(85072),c=n.n(s),p=n(27326),m={insert:"head",singleton:!1};c()(p.A,m);p.A.locals;const f=(0,n(66262).A)(d,[["render",function(e,t,n,d,s,c){var p=(0,o.resolveComponent)("el-input"),m=(0,o.resolveComponent)("el-form-item"),f=(0,o.resolveComponent)("el-col"),g=(0,o.resolveComponent)("el-tag"),h=(0,o.resolveComponent)("el-button"),C=(0,o.resolveComponent)("el-row"),_=(0,o.resolveComponent)("el-form"),w=(0,o.resolveComponent)("table-view");return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createVNode)(w,{params:{isWith:"specs"},options:d.options,dialogParam:d.dialogParam},{table_add_hook:(0,o.withCtx)((function(n){var a=n.dialogParams;return[(0,o.createElementVNode)("div",r,[(0,o.createVNode)(_,{ref:"addForm","label-position":"right",model:d.dialogParam.addForm,rules:d.dialogParam.rules,"label-width":"120px"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(C,{gutter:20},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(f,{span:12},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(m,{label:e.$t("seller.goods_attrs.attrs_name"),prop:"name"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(p,{modelValue:d.dialogParam.addForm.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return d.dialogParam.addForm.name=e})},null,8,["modelValue"])]})),_:1},8,["label"])]})),_:1}),(0,o.createVNode)(f,{span:24},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(m,{label:e.$t("seller.goods_attrs.attrs"),prop:"specs"},{default:(0,o.withCtx)((function(){return[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(d.dialogParam.addForm.specs||[],(function(e,t){return(0,o.openBlock)(),(0,o.createBlock)(g,{size:"medium",key:t,closable:"",onClose:function(t){return d.handleClose(e)}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(e),1)]})),_:2},1032,["onClose"])})),128)),d.inputVisible?((0,o.openBlock)(),(0,o.createBlock)(p,{key:0,ref:"saveTagInput",modelValue:d.inputValue,"onUpdate:modelValue":t[1]||(t[1]=function(e){return d.inputValue=e}),class:"input-new-tag",size:"mini",onKeyup:(0,o.withKeys)(d.handleInputConfirm,["enter"]),onBlur:d.handleInputConfirm},null,8,["modelValue","onKeyup","onBlur"])):((0,o.openBlock)(),(0,o.createBlock)(h,{key:1,class:"button-new-tag",size:"small",onClick:d.showInput},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("+ New")]})),_:1},8,["onClick"]))]})),_:1},8,["label"])]})),_:1}),(0,o.createVNode)(f,{span:12},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(m,null,{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("div",l,[(0,o.createVNode)(h,{loading:d.loading,type:"primary",onClick:function(e){return d.storeData(a)}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("btn.determine")),1)]})),_:2},1032,["loading","onClick"]),(0,o.createVNode)(h,{onClick:function(e){return a.closeDialog()}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("btn.cancel")),1)]})),_:2},1032,["onClick"])])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)]})),_:2},1032,["model","rules"])])]})),table_edit_hook:(0,o.withCtx)((function(n){var a=n.dialogParams,r=n.formData;return[(0,o.createElementVNode)("div",i,[(0,o.createTextVNode)((0,o.toDisplayString)(d.formDataChange(r))+" ",1),(0,o.createVNode)(_,{ref:"editForm","label-position":"right",model:d.dialogParam.addForm,rules:d.dialogParam.rules,"label-width":"120px"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(C,{gutter:20},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(f,{span:12},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(m,{label:e.$t("seller.goods_attrs.attrs_name"),prop:"name"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(p,{modelValue:d.dialogParam.addForm.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return d.dialogParam.addForm.name=e})},null,8,["modelValue"])]})),_:1},8,["label"])]})),_:1}),(0,o.createVNode)(f,{span:24},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(m,{label:e.$t("seller.goods_attrs.attrs"),prop:"specs"},{default:(0,o.withCtx)((function(){return[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(d.dialogParam.addForm.specs||[],(function(e,t){return(0,o.openBlock)(),(0,o.createBlock)(g,{size:"medium",key:t,closable:"",onClose:function(t){return d.handleClose(e)}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(e),1)]})),_:2},1032,["onClose"])})),128)),d.inputVisible?((0,o.openBlock)(),(0,o.createBlock)(p,{key:0,ref:"saveTagInput",modelValue:d.inputValue,"onUpdate:modelValue":t[3]||(t[3]=function(e){return d.inputValue=e}),class:"input-new-tag",size:"mini",onKeyup:(0,o.withKeys)(d.handleInputConfirm,["enter"]),onBlur:d.handleInputConfirm},null,8,["modelValue","onKeyup","onBlur"])):((0,o.openBlock)(),(0,o.createBlock)(h,{key:1,class:"button-new-tag",size:"small",onClick:d.showInput},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("+ New")]})),_:1},8,["onClick"]))]})),_:1},8,["label"])]})),_:1}),(0,o.createVNode)(f,{span:12},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(m,null,{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("div",u,[(0,o.createVNode)(h,{loading:d.loading,type:"primary",onClick:function(e){return d.updateData(a)}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("btn.determine")),1)]})),_:2},1032,["loading","onClick"]),(0,o.createVNode)(h,{onClick:function(e){return a.closeDialog()}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("btn.cancel")),1)]})),_:2},1032,["onClick"])])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)]})),_:2},1032,["model","rules"])])]})),_:1},8,["options","dialogParam"])])}]])},34527:(e,t,n)=>{var o=n(43724),a=n(34376),r=TypeError,l=Object.getOwnPropertyDescriptor,i=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=i?function(e,t){if(a(e)&&!l(e,"length").writable)throw new r("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},84606:(e,t,n)=>{var o=n(16823),a=TypeError;e.exports=function(e,t){if(!delete e[t])throw new a("Cannot delete property "+o(t)+" of "+o(e))}},54554:(e,t,n)=>{var o=n(46518),a=n(48981),r=n(35610),l=n(91291),i=n(26198),u=n(34527),d=n(96837),s=n(1469),c=n(97040),p=n(84606),m=n(70597)("splice"),f=Math.max,g=Math.min;o({target:"Array",proto:!0,forced:!m},{splice:function(e,t){var n,o,m,h,C,_,w=a(this),V=i(w),v=r(e,V),b=arguments.length;for(0===b?n=o=0:1===b?(n=0,o=V-v):(n=b-2,o=g(f(l(t),0),V-v)),d(V+n-o),m=s(w,o),h=0;h<o;h++)(C=v+h)in w&&c(m,h,w[C]);if(m.length=o,n<o){for(h=v;h<V-o;h++)_=h+n,(C=h+o)in w?w[_]=w[C]:p(w,_);for(h=V;h>V-o+n;h--)p(w,h-1)}else if(n>o)for(h=V-o;h>v;h--)_=h+n-1,(C=h+o-1)in w?w[_]=w[C]:p(w,_);for(h=0;h<n;h++)w[h+v]=arguments[h+2];return u(w,V-o+n),m}})}}]);